(function(c,e){if("undefined"===typeof c)throw"not find window...";"undefined"===typeof c.__ZWeb__&&(e=e(c,"ZWeb"),c.__ZWeb__=new e)})(window,function(c,e){var p="on"+e+"Created",g="on"+e+"Exception",q="on"+e+"Require",r="on"+e+"Message",t="on"+e+"Destroy",h="on"+e+"Log",k={UUID:void 0,Promise:void 0};(function(b){function a(){this.id=this.createUUID()}a.prototype.valueOf=function(){return this.id};a.prototype.toString=function(){return this.id};a.prototype.createUUID=function(){var b=new Date(1582,
10,15,0,0,0,0),c=(new Date).getTime()-b.getTime(),b=a.getIntegerBits(c,0,31),e=a.getIntegerBits(c,32,47),c=a.getIntegerBits(c,48,59)+"1",u=a.getIntegerBits(a.rand(4095),0,7),g=a.getIntegerBits(a.rand(4095),0,7),f=a.getIntegerBits(a.rand(8191),0,7)+a.getIntegerBits(a.rand(8191),8,15)+a.getIntegerBits(a.rand(8191),0,7)+a.getIntegerBits(a.rand(8191),8,15)+a.getIntegerBits(a.rand(8191),0,15);return b+"-"+e+"-"+c+"-"+u+g+"-"+f};a.getIntegerBits=function(b,c,e){b=a.returnBase(b,16);var d=[],l="",f;for(f=
0;f<b.length;f++)d.push(b.substring(f,f+1));for(f=Math.floor(c/4);f<=Math.floor(e/4);f++)l=d[f]&&""!=d[f]?l+d[f]:l+"0";return l};a.returnBase=function(a,b){var c="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");if(a<b)b=c[a];else{var d=""+Math.floor(a/b);a-=d*b;b=d>=b?this.returnBase(d,b)+c[a]:c[d]+c[a]}return b};a.rand=function(a){return Math.floor(Math.random()*a)};b.UUID=a})(k);(function(b){var a=function(){this.callbacks=[]};a.prototype={construct:a,resolve:function(a){this.complete("resolve",
a)},reject:function(a){this.complete("reject",a)},complete:function(a,b){for(;this.callbacks[0];){var c=this.callbacks.shift()[a];c&&c(b)}},then:function(a,b){this.callbacks.push({resolve:a,reject:b});return this}};b.Promise=a})(k);var m=function(b,a){this.mapRequireQueue={};this.mapMessageQueue={};this.szFrameworkUUID=b;this.OS=a.OS;this.Version=a.Version;this.InternalName=a.InternalName;this.ExposedName=a.ExposedName;this.__onFuncCallBackMap__={};this.print("Info",JSON.stringify(a))};m.prototype=
{createUUID:function(){return(new k.UUID).id},saveData:function(b,a){this.callInterOS("saveData",{Key:b,Value:a})},loadData:function(b){this.callInterOS("loadData",b)},showLoading:function(){this.callInterOS("showLoading")},hideLoading:function(){this.callInterOS("hideLoading")},tip:function(b){this.callInterOS("tip",b)},require:function(b,a,c,e){b={Sequence:this.createUUID(),Url:b,Method:a,Data:c,Type:e||"json"};a=new k.Promise;this.mapRequireQueue[b.Sequence]=a;this.callInterOS(q,b);return a},requireCallback:function(b){var a=
b.Sequence,c=this.mapRequireQueue[a];delete this.mapRequireQueue[a];"success"===b.Result?c.resolve(b.Data):c.reject(b.Data)},message:function(b,a){b={Sequence:this.createUUID(),Cmd:b,Data:a};a=new k.Promise;this.mapMessageQueue[b.Sequence]=a;this.callInterOS(r,b);return a},messageCallback:function(b){var a=b.Sequence,c=this.mapMessageQueue[a];delete this.mapMessageQueue[a];"success"===b.Result?c.resolve(b.Data):c.reject(b.Data)},destroy:function(){this.callInterOS(t)},callInterOS:function(b,a){this.callOS(b,
a,this.InternalName)},callOS:function(b,a,d){"undefined"===typeof d&&(d=this.ExposedName);switch(this.OS){case "ANDROID":if(c[d]&&c[d][b])if("undefined"===typeof a)c[d][b](this.szFrameworkUUID);else if("object"===typeof a)c[d][b](this.szFrameworkUUID,JSON.stringify(a));else c[d][b](this.szFrameworkUUID,a);else this.print(b+" : "+this.szFrameworkUUID+"\uff1a Android \u63a5\u53e3\u8c03\u7528\u5f02\u5e38...");break;case "IOS":c.webkit&&c.webkit.messageHandlers&&c.webkit.messageHandlers[d]?(b={Method:b,
FrameworkID:this.szFrameworkUUID,Data:JSON.stringify(a)},"undefined"===typeof a&&delete b.Data,c.webkit.messageHandlers[d].postMessage(b)):this.print(b+" : "+this.szFrameworkUUID+"\uff1a IOS \u63a5\u53e3\u8c03\u7528\u5f02\u5e38...");break;case "WEB":this.print(b+" : "+this.szFrameworkUUID+"\uff1a Web \u63a5\u53e3\u8c03\u7528...");break;default:this.print("init callOS error, \u56de\u8c03\u5931\u8d25\u3002")}},exceptionOS:function(b,a){switch(this.OS){case "ANDROID":if(c[this.InternalName]&&c[this.InternalName][g])if("undefined"===
typeof a)c[this.InternalName][g](this.szFrameworkUUID,b,"");else if("object"===typeof oData)c[this.InternalName][g](this.szFrameworkUUID,b,JSON.stringify(a));else c[this.InternalName][g](this.szFrameworkUUID,b,a);else this.print(g+" : "+this.szFrameworkUUID+"\uff1a Android \u63a5\u53e3\u8c03\u7528\u5f02\u5e38...");break;case "IOS":c.webkit&&c.webkit.messageHandlers&&c.webkit.messageHandlers[this.InternalName]?(b={Method:g,FrameworkID:this.szFrameworkUUID,ErrorCode:b,Data:JSON.stringify(a)},c.webkit.messageHandlers[this.InternalName].postMessage(b)):
this.print(g+" : "+this.szFrameworkUUID+"\uff1a IOS \u63a5\u53e3\u8c03\u7528\u5f02\u5e38...");break;case "WEB":this.print(g+" : "+this.szFrameworkUUID+"\uff1a Web \u63a5\u53e3\u8c03\u7528...");break;default:this.print("init callOS error, \u56de\u8c03\u5931\u8d25\u3002")}},print:function(){var b="Debug",a=arguments[0];2===arguments.length&&(b=arguments[0],a=arguments[1]);b={Type:b,Msg:a};console.info(b);switch(this.OS){case "ANDROID":if(c[this.InternalName]&&c[this.InternalName][h])c[this.InternalName][h](this.szFrameworkUUID,
JSON.stringify(b));else console.error(h+" : "+this.szFrameworkUUID+"\uff1a Android \u63a5\u53e3\u8c03\u7528\u5f02\u5e38...");break;case "IOS":c.webkit&&c.webkit.messageHandlers&&c.webkit.messageHandlers[this.InternalName]?(a={Method:h,FrameworkID:this.szFrameworkUUID,Data:JSON.stringify(b)},c.webkit.messageHandlers[this.InternalName].postMessage(a)):console.error(g+" : "+this.szFrameworkUUID+"\uff1a IOS \u63a5\u53e3\u8c03\u7528\u5f02\u5e38...");break;case "WEB":console.error(h+" : "+this.szFrameworkUUID+
"\uff1a Web \u63a5\u53e3\u8c03\u7528...");break;default:console.error("Call print error...")}},on:function(b,a){this.__onFuncCallBackMap__[b]=a},dispatchCall:function(b,a){(b=this.__onFuncCallBackMap__[b])&&"function"===typeof b&&b(a)}};var n=function(){this.szFrameworkUUID=0;this.OS="WEB";this.ZWebSDK=this.ExposedName=this.InternalName=this.Version=void 0};n.prototype={initFramework:function(b,a){this.szFrameworkUUID=b;this.OS=a.OS;this.Version=a.Version;this.InternalName=a.InternalName;this.ExposedName=
a.ExposedName;c[e+"SDK"]=this.ZWebSDK=new m(b,a);this.ZWebSDK.callInterOS(p,function(){var a=0,b=0;c.innerWidth?a=c.innerWidth:document.body&&document.body.clientWidth&&(a=document.body.clientWidth);c.innerHeight?b=c.innerHeight:document.body&&document.body.clientHeight&&(b=document.body.clientHeight);document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientWidth&&(b=document.documentElement.clientHeight,a=document.documentElement.clientWidth);return{Width:a,
Height:b}}())},requireCallback:function(b,a){this.ZWebSDK.requireCallback(a)},messageCallback:function(b,a){this.ZWebSDK.messageCallback(a)},callReceiver:function(b,a,c){this.ZWebSDK.dispatchCall(a,c)},goBack:function(b){this.ZWebSDK.print("goBack \u88ab\u8c03\u7528\u4e86...");c.history.go(-1)},goForward:function(b){this.ZWebSDK.print("goForward \u88ab\u8c03\u7528\u4e86...");c.history.go(1)},refresh:function(b){this.ZWebSDK.print("refresh \u88ab\u8c03\u7528\u4e86...");c.location.reload()}};return n});